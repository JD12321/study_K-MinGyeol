# rebase
rebase는 re + base로, 베이스의 위치를 바꾸는 작업을 수행한다. base는 두 브랜치의 공통 조상이 되는 커밋을 의미한다.

예를 들어, 다음과 같이 main과 topic 두 브랜치가 존재했을 때, topic 브랜치가 파생된 커밋 E가 베이스이다.
```
      A---B---C topic
     /
D---E---F---G   main
```

위 리포지토리에서 rebase를 진행하면 다음과 같이 변화된다.
```
              A'--B'--C' topic
             /
D---E---F---G            main
```
base의 위치가 main 브랜치의 가장 최신 커밋으로 이동된 모습을 볼 수 있다.  
이후 fast-forward 병합을 수행하여 두 브랜치를 하나로 병합해주면 된다.  
<br>

```
$ git rebase [<branch>]
```

`<branch>`
- rebase 할 브랜치명을 지정한다  
<br>

### 충돌 발생 가능성
이동되는 커밋 A', B', C'이 커밋 F, G와 충돌되는 부분이 발생할 수 있다. 이 경우에는, 병합 과정에서 충돌을 해결하는 것 처럼 충돌이 발생하는 파일을 개별적으로 수정한 후 rebase 과정을 계속할 수 있다.

단, 병합 과정에서는 충돌을 모두 해결 한 후 커밋을 통해 병합 절차를 마무리했지만, rebase에서는 충돌이 발생하는 파일을 수정하고, `git add`를 통해 파일을 추가한 뒤에 `git rebase --continue`를 수행하여 병합을 계속할 수 있다.  
<br>

### 3-way merge와 rebase
같은 조상에서 파생된 두 개의 브랜치를 하나로 합치는 과정을 수행한다는 점은 모두 동일하다. 그러나 merge 방식으로 병합할 경우 여러 분기의 커밋 이력이 모두 유지되며 하나의 분기로 합쳐지기 때문에 이력이 복잡해질 수 있다.  

반면, rebase의 경우 히스토리가 더 선형적으로 단순해지고 보다 깨끗한 이력을 남긴다. 따라서 정확한 이력을 남겨야 할 필요가 있을 경우에는 사용하면 안된다.